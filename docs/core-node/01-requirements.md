# Требования к Core-ноде

**Версия:** 1.0
**Дата:** 2026-01-20
**Статус:** Этап 2

---

## 1. Введение

Данный документ определяет требования к серверу для размещения Core-ноды. Core-нода — скрытый узел ядра сети, который принимает трафик от Entry-нод и маршрутизирует его в открытый интернет.

---

## 2. Роль Core-ноды

```
Клиент → Entry-нода (РФ) → Core-нода (Япония) → Интернет
                           ^^^^^^^^^^^^^^^^^
                           Этот документ
```

Core-нода:
- Принимает трафик от Entry-нод через WebSocket/TLS
- Маршрутизирует запросы в открытый интернет
- Отдаёт сайт-прикрытие при некорректных запросах

---

## 3. Требования к хостингу

### 3.1. География

| Параметр | Требование | Обоснование |
|----------|------------|-------------|
| **Регион** | Япония, ЮВА | Свободный интернет, минимальная задержка |
| **Исключения** | РФ, Китай | Регулируемый интернет |

### 3.2. Сетевые требования

| Параметр | Требование | Обоснование |
|----------|------------|-------------|
| **IPv4** | Выделенный белый адрес | Прямое подключение от Entry-ноды |
| **Порт 443** | Открыт | HTTPS/WebSocket трафик |
| **Трафик** | 1+ TB/месяц | Транзит всего клиентского трафика |

### 3.3. Аппаратные ресурсы

| Параметр | Минимум | Рекомендуется |
|----------|---------|---------------|
| **vCPU** | 1 ядро | 2 ядра |
| **RAM** | 1 GB | 2 GB |
| **Диск** | 10 GB SSD | 20 GB SSD |

### 3.4. Операционная система

| ОС | Статус |
|----|--------|
| Debian 11/12 | Поддерживается |
| Ubuntu 22.04/24.04 | Поддерживается |

---

## 4. Отличия от Entry-ноды

| Параметр | Entry-нода | Core-нода |
|----------|------------|-----------|
| **Расположение** | Внутри или снаружи региона | Только снаружи (свободный интернет) |
| **Домен** | Обязателен (для клиентов) | Не обязателен |
| **TLS сертификат** | Let's Encrypt | Самоподписанный |
| **Жизненный цикл** | Недолгоживущая, расходная | Долгоживущая, защищённая |
| **Клиенты** | Конечные пользователи | Только Entry-ноды |

---

## 5. Текущий инстанс

| Параметр | Значение |
|----------|----------|
| **IP-адрес** | 45.63.121.41 |
| **Регион** | Япония |
| **Провайдер** | — |
| **ОС** | — |

---

## 6. Чек-лист готовности хостинга

- [ ] VPS с root-доступом
- [ ] Выделенный IPv4
- [ ] Debian или Ubuntu
- [ ] 1+ vCPU, 1+ GB RAM, 10+ GB диск
- [ ] 1+ TB трафика в месяц
- [ ] Порт 443 не заблокирован провайдером

---

## Следующий шаг

→ [02-server-setup.md](./02-server-setup.md) — Базовая настройка сервера

---

*Документ создан: 2026-01-20*
