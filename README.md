# DigitalFortress

Проект защищённой приватной сети для обхода региональных ограничений доступа в интернет.

## Цель проекта

Создание децентрализованной сети, которая:

- Устойчива к обнаружению системами Deep Packet Inspection (DPI)
- Маскирует трафик под легитимную HTTPS-активность
- Сохраняет работоспособность при блокировке отдельных узлов
- Масштабируется от личного использования до коммерческой эксплуатации

## Архитектура

Трёхуровневая модель с разделением ответственности:

```
┌─────────────────────────────────────────────────────────────────┐
│                         Клиент                                   │
│                    (V2Ray/Xray приложение)                       │
└───────────────────────────┬─────────────────────────────────────┘
                            │ VLESS + TLS 1.3
                            │ (неотличим от HTTPS)
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Entry-нода                                 │
│  - Публичный сервер с валидным SSL-сертификатом                 │
│  - Сайт-прикрытие (легитимный веб-сайт)                         │
│  - Nginx + Xray-core                                             │
│  - Расходная, легко заменяемая                                   │
└───────────────────────────┬─────────────────────────────────────┘
                            │ TLS-туннель
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Core-нода                                  │
│  - Скрытый маршрутизатор трафика                                │
│  - PKI, управление сертификатами                                │
│  - Долгоживущая, защищённая                                     │
└───────────────────────────┬─────────────────────────────────────┘
                            │
                            ▼
                      Открытый интернет
```

Подробное описание архитектуры: [ARCHITECTURE.md](./ARCHITECTURE.md)

## Технологический стек

| Компонент | Технология |
|-----------|------------|
| VPN-протокол | VLESS |
| VPN-движок | Xray-core |
| Транспорты | XHTTP, WebSocket, gRPC |
| Веб-сервер | Nginx (reverse proxy) |
| SSL/TLS | Let's Encrypt |
| ОС | Ubuntu 22.04 / Debian 12 |

## Принцип маскировки

Для внешнего наблюдателя Entry-нода — это обычный HTTPS-сайт:

- Единственные открытые порты: 22 (SSH) и 443 (HTTPS)
- Валидный SSL-сертификат от Let's Encrypt
- Полноценный сайт-прикрытие с контентом
- Xray слушает только на localhost
- Весь VPN-трафик проксируется через Nginx

При обращении на секретные пути без правильных заголовков — отдаётся сайт-прикрытие.

## Этапы развития

| Этап | Описание | Статус |
|------|----------|--------|
| 1 | MVP: 1 Entry-нода за пределами региона | В работе |
| 2 | Entry-нода внутри региона | В работе |
| 3 | Core-нода + связка Entry → Core | Планируется |
| 4 | Контейнеризация и автоматизация | Планируется |

## Структура документации

```
docs/
├── entry-node/                    # Entry-нода
│   ├── README.md                  # Обзор
│   ├── 01-hosting.md              # Выбор хостинга
│   ├── 02-server-setup.md         # Настройка сервера
│   ├── 03-nginx-setup.md          # Nginx + SSL
│   ├── 04-cover-site.md           # Сайт-прикрытие
│   ├── 05-xray-install.md         # Установка Xray
│   ├── 06-xray-clients.md         # Настройка клиентов
│   └── instances/
│       └── mimimi-pro.md          # Конкретный инстанс
│
├── core-node/                     # Core-нода
│   └── README.md                  # Обзор и настройка
│
├── client/                        # Клиентские приложения
│   └── README.md                  # Настройка клиентов
│
└── reference/                     # Справочные материалы
    ├── vless.md                   # О протоколе VLESS
    └── cdn-proxy.md               # CDN и проксирование
```

## Быстрый старт

### Entry-нода (текущий этап)

1. [Выбор хостинга](./docs/entry-node/01-hosting.md)
2. [Настройка сервера](./docs/entry-node/02-server-setup.md)
3. [Установка Nginx + SSL](./docs/entry-node/03-nginx-setup.md)
4. [Развёртывание сайта-прикрытия](./docs/entry-node/04-cover-site.md)
5. [Установка Xray](./docs/entry-node/05-xray-install.md)
6. [Настройка клиентов](./docs/entry-node/06-xray-clients.md)

## Текущий статус

**Entry-нода mimimi.pro:**

| Компонент | Статус |
|-----------|--------|
| Хостинг (ABLENET, Япония) | Готово |
| Хостинг (SkyHost, Россия) | Готово |
| Домен mimimi.pro | Готово |
| Nginx + SSL | Готово |
| Сайт-прикрытие | Готово |
| Xray-core | В работе |

## Конфигурационные файлы

```
config/
├── nginx/
│   └── mimimi.pro             # Nginx конфигурация
└── xray/
    └── entry-node.json        # Xray конфигурация Entry-ноды
```

## Лицензия

MIT License

---

*Проект находится в активной разработке. Документация обновляется по мере реализации.*
