# Digital Fortress

Проект защищённой приватной сети для обхода региональных ограничений доступа в интернет.

## Цель проекта

Создание децентрализованной сети, которая:

- Устойчива к обнаружению системами Deep Packet Inspection (DPI)
- Маскирует трафик под легитимную HTTPS-активность
- Сохраняет работоспособность при блокировке отдельных узлов
- Масштабируется от личного использования до коммерческой эксплуатации

## Архитектура

Трёхуровневая модель с разделением ответственности:

```
┌─────────────────────────────────────────────────────────────────┐
│                         Клиент                                  │
│                    (V2Ray/Xray приложение)                      │
└───────────────────────────┬─────────────────────────────────────┘
                            │ VLESS + TLS 1.3
                            │ (неотличим от HTTPS)
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Entry-нода                                │
│  - Публичный сервер с валидным SSL-сертификатом                 │
│  - Сайт-прикрытие (легитимный веб-сайт)                         │
│  - Nginx + Xray-core                                            │
│  - Расходная, легко заменяемая                                  │
└───────────────────────────┬─────────────────────────────────────┘
                            │ TLS-туннель
                            ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Core-нода                                  │
│  - Скрытый маршрутизатор трафика                                │
│  - PKI, управление сертификатами                                │
│  - Долгоживущая, защищённая                                     │
└───────────────────────────┬─────────────────────────────────────┘
                            │
                            ▼
                      Открытый интернет
```

Подробное описание архитектуры: [ARCHITECTURE.md](./ARCHITECTURE.md)

## Технологический стек

| Компонент | Технология |
|-----------|------------|
| VPN-протокол | VLESS |
| VPN-движок | Xray-core |
| Транспорты | gRPC |
| Веб-сервер | Nginx (reverse proxy) |
| SSL/TLS | Let's Encrypt |
| ОС | Ubuntu 22.04 / Debian 12 |

## Принцип маскировки

Для внешнего наблюдателя Entry-нода — это обычный HTTPS-сайт:

- Единственные открытые порты: 22 (SSH) и 443 (HTTPS)
- Валидный SSL-сертификат от Let's Encrypt
- Полноценный сайт-прикрытие с контентом
- Xray слушает только на localhost
- Весь VPN-трафик проксируется через Nginx

При обращении на секретные пути без правильных заголовков — отдаётся сайт-прикрытие.

## Этапы развития

| Этап | Описание | Статус |
|------|----------|--------|
| 1 | MVP: 1 Entry-нода внутри региона | В работе |
| 2 | Core-нода + связка Entry → Core | В работе |
| 3 | Контейнеризация и автоматизация | Планируется |

## Структура документации

```
docs/
├── entry-node/                    # Entry-нода
│   └── README.md                  # Обзор
│
├── core-node/                     # Core-нода
│   └── README.md                  # Обзор и настройка
│
└── client/                        # Клиентские приложения
    └── README.md                  # Настройка клиентов
```

## Конфигурационные файлы

```
config/
├── nginx/             # Nginx конфигурация
│
└── xray/
    │
    ├── entry-node.json        # Xray конфигурация Entry-ноды
    │
    └── core-node.json        # Xray конфигурация Core-ноды
```

## Лицензия

MIT License

---

*Проект находится в активной разработке. Документация обновляется по мере реализации.*
